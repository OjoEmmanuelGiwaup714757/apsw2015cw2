<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Add / Edit Organisation</title>
        <link href="../resourses/css/Layout.css" rel="stylesheet" type="text/css"/>

    </h:head>
    <h:body>
        <h:form>
            <div class="Container">
                <div class="Header"><p style="font-size: 18px;">Student And Unit Management System</p></div>
                <div class="Menubar"><ul><li style="color: white;"><h:commandLink id="blank" value=""/></li></ul></div>
                <div class="inner">
                    <div class="NavPanel">
                        <div class="NavPanelin">
                            <p style="margin:0px; border-top-left-radius:5px; border-top-right-radius:5px; background-color:#551a8b; color:white; font-weight:bolder; font-size: 11px; text-align: center">Registration</p>

                        </div>
                    </div>
                    <div class="Content">
                        <p class="titleParag0"><span class="title0">Add Organisation</span></p>
                        <table width="100%" border="1" cellpadding="5" cellspacing="0">
                            <tbody>                     
                                <tr>
                                    <td>First Name</td>
                                    <td colspan="2">
                                        <h:inputText value="#{registrationController.r.firstName}" id="firstname" class="InputTest" style="width: 250px" required="true" requiredMessage="organisation name is required" validatorMessage="only text allowed.">
                                        </h:inputText>
                                        <h:message for="firstname" style=" font-size: 8px; color:red"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Middle Name</td>
                                    <td colspan="2">
                                        <h:inputText value="#{registrationController.r.middlename}" id="middlename" class="InputTest" style="width: 250px" requiredMessage="middlename is required" validatorMessage="only letters allowed.">
                                        </h:inputText>
                                        <h:message for="middlename" style=" font-size: 8px; color:red"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Surname</td>
                                    <td colspan="2">
                                        <h:inputText value="#{registrationController.r.surname}" id="surname" class="InputTest" style="width: 250px" required="true" requiredMessage="surname is required" validatorMessage="only letters allowed.">
                                        </h:inputText>
                                        <h:message for="surname" style=" font-size: 8px; color:red"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Username</td>
                                    <td colspan="2">
                                        <h:inputText value="#{registrationController.r.username}" id="username" class="InputTest" style="width: 250px" required="true" requiredMessage="username is required" validatorMessage="Alphanumeric username of lenght 2-20 expected.">
                                            <f:validateRegex pattern="^[a-z0-9_-]{2,20}$"/>
                                        </h:inputText>
                                        <h:message for="username" style=" font-size: 8px; color:red"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Password</td>
                                    <td colspan="2">
                                        <h:inputSecret value="#{registrationController.r.password}" id="password" class="InputTest" style="width: 250px" required="true" requiredMessage="password is required to be at least 8 characters and include A-Z, a-z and 0-9" validatorMessage="password between 8 - 20 lenght with at least an uppercase and a lowercase letter and a number.">
                                            <f:validateRegex pattern="((?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,20})"/>
                                        </h:inputSecret>
                                        <h:message for="password" style=" font-size: 8px; color:red"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Confirm Password</td>
                                    <td colspan="2">
                                        <h:inputSecret id="confirmPassword" value="#{registrationController.r.password}" class="InputTest" style="width: 250px" required="true" requiredMessage="please re-enter password" validatorMessage="The confirm password must match what you entered as password.">
                                            <f:validateRegex pattern="((?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,20})"/>
                                        </h:inputSecret>
                                        <h:message for="confirmPassword" style=" font-size: 8px; color:red"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Contact No</td>
                                    <td colspan="2">
                                        <h:inputText value="#{registrationController.r.phoneno}" id="phoneNo" class="InputTest" style="width: 250px" required="false">
                                            <f:validateRegex pattern="^(\(?(?:0(?:0|11)\)?[\s-]?\(?|\+)(44)\)?[\s-]?)?\(?0?(?:\)[\s-]?)?([1-9]\d{1,4}\)?[\d[\s-]]+)((?:x|ext\.?|\#)\d{3,4})?$"/>
                                        </h:inputText>
                                        <h:message for="phoneNo" style=" font-size: 8px; color:red"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td>User Status</td>
                                    <td colspan="2">
                                        <h:selectOneRadio value="#{registrationController.r.userstatus}" id="userstatus" >
                                            <f:selectItem itemValue="1" itemLabel="Student" />
                                            <f:selectItem itemValue="2" itemLabel="Staff" />
                                            <f:selectItem itemValue="3" itemLabel="External" />
                                        </h:selectOneRadio>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Supervisor</td>
                                    <td colspan="2">
                                        <h:selectOneRadio value="#{registrationController.r.isSupervisor}" id="isSupervisor" >
                                            <f:selectItem itemValue="1" itemLabel="No" />
                                            <f:selectItem itemValue="2" itemLabel="Yes" />
                                        </h:selectOneRadio>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Moderator</td>
                                    <td colspan="2">
                                        <h:selectOneRadio value="#{registrationController.r.isModerator}" id="isModerator" >
                                            <f:selectItem itemValue="1" itemLabel="No" />
                                            <f:selectItem itemValue="2" itemLabel="Yes" />
                                        </h:selectOneRadio>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Coordinator</td>
                                    <td colspan="2">
                                        <h:selectOneRadio value="#{registrationController.r.iscoordinator}" id="iscoordinator" >
                                            <f:selectItem itemValue="1" itemLabel="No" />
                                            <f:selectItem itemValue="2" itemLabel="Yes" />
                                        </h:selectOneRadio>
                                    </td>
                                </tr>
                                <tr>
                                    <td>HEMIS</td>
                                    <td colspan="2">
                                        <h:inputText value="#{registrationController.r.studentId}" id="studentId" class="InputTest" style="width: 250px" required="false" requiredMessage="student id is required" validatorMessage="only numbers allowed.">
                                        </h:inputText>
                                        <h:message for="studentId" style=" font-size: 8px; color:red"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Organisation Name</td>
                                    <td colspan="2">
                                        <h:selectOneMenu value="#{registrationController.o}" id="organisationcode">
                                            <f:selectItems value="#{organisationBean.itemsAvailableSelectOneOrg}" itemValue="#{o.id}"/>
                                        </h:selectOneMenu>&nbsp;&nbsp;
                                        <h:commandButton value="Add Organisation" immediate="true" action="#{registrationController.loadOrganisation()}"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Email</td>
                                    <td colspan="2">
                                        <h:inputText value="#{registrationController.r.emailaddr}" id="email" class="InputTest" style="width: 250px" required="true" requiredMessage="email is required" validatorMessage="email should include @ in it.">
                                            <f:validateRegex pattern="\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*"/>
                                        </h:inputText>
                                        <h:message for="email" style=" font-size: 8px; color:red"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="3"><h:commandButton value="Add" action="#{registrationController.doAddUser()}"/>&nbsp;<h:commandButton value="Cancel" immediate="true" action="#{registrationController.doLogout()}"/></td>
                                </tr>
                            </tbody>
                        </table>
                        <h:outputText value="#{organisationController.addOrganisationSuccess}" style="color: green; font-size: 12px; font-weight: bold" />
                    </div>
                </div>
            </div>
        </h:form>        
    </h:body>
</html>   

